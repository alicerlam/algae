% I = imread("boop.png");
imshow(I); 
disp("Press any key when you are finished drawing.")
% Outline of Cell
h = drawfreehand('Color','cyan', 'LineWidth', 10); % Makes a freehand shape object named "h"
pos = h.Position; % Gets the position of h; you will likely want the area of h
set(gcf,'WindowKeyPressFcn', @(~,~) set(gcf,'UserData', true)); 
waitfor(gcf,'UserData') % Waits for user to hit a key before finalizing the shape
% Cell Area
bwCell = createMask(h);
area = bwarea(bwCell)
h.Visible = "off";
cell_area = table(area);
disp(cell_area)
% Granule Area
disp("Draw until all the starch granules have been outlined.. exit for table.")
sugar_area = [];
while true
    try
    sugarOutline = drawfreehand('Color','cyan', 'LineWidth', 5); % Makes a freehand shape object named "h"
    bwSugar = createMask(sugarOutline);
    starch_area = bwarea(bwSugar);
    sugar_area = [sugar_area; starch_area];
    catch
         break
    end
end
sugar_table = table(sugar_area);
disp(sugar_table)
